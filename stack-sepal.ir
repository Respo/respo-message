{:definitions {"respo-message.comp.msg-list/comp-msg-list" ["def" "comp-msg-list" ["create-comp" ":msg-list" "render"]], "respo-message.main/ssr-stages" ["def" "ssr-stages" ["let" [["ssr-element" [".querySelector" "js/document" "|#ssr-stages"]] ["ssr-markup" [".getAttribute" "ssr-element" "|content"]]] ["read-string" "ssr-markup"]]], "respo-message.main/store-ref" ["defonce" "store-ref" ["atom" ["{}" [":messages" ["[]"]]]]], "respo-message.updater/add-one" ["defn" "add-one" ["store" "op" "op-data"] ["update" "store" ":messages" ["fn" ["messages"] ["conj" "messages" "op-data"]]]], "respo-message.comp.msg-list/render" ["defn" "render" ["messages"] ["fn" ["state" "mutate!"] ["div" ["{}"] ["let" [["view-messages" ["conj" "messages" "nil" "nil" "nil"]]] ["->>" "view-messages" ["map-indexed" ["fn" ["idx" "message"] ["[]" "idx" ["comp-message" "idx" "message"]]]]]]]]], "respo-message.main/words" ["def" "words" ["[]" "|just demo" "|Oh, this is strange" "|why do I have to do that? it's huge!" "|OK" "|wrong" "|find"]], "respo-message.comp.message/style-message" ["def" "style-message" ["{}" [":position" ":absolute"] [":top" "8"] [":right" "8"] [":height" "32"] [":line-height" "|32px"] [":font-size" "|14"] [":background-color" ":transparent"] [":color" ":white"] [":padding" "|0 16px"] [":min-width" "64"] [":text-align" ":left"] [":overflow" ":hidden"] [":text-overflow" ":ellipsis"] [":max-width" "320"] [":cursor" ":pointer"] [":transition-duration" "|400ms"]]], "respo-message.updater/remove-one" ["defn" "remove-one" ["store" "op" "op-data"] ["update" "store" ":messages" ["fn" ["messages"] ["subvec" "messages" "0" "op-data"]]]], "respo-message.main/id-ref" ["defonce" "id-ref" ["atom" "0"]], "respo-message.main/on-jsload!" ["defn" "on-jsload!" [] ["clear-cache!"] ["render-app!"] ["println" "|code update."] ["dispatch!" ":message/add" "nil"]], "respo-message.main/-main!" ["defn" "-main!" [] ["enable-console-print!"] ["if" ["not" ["empty?" "ssr-stages"]] ["let" [["target" [".querySelector" "js/document" "|#app"]]] ["falsify-stage!" "target" ["mute-element" ["render-element" ["comp-container" "@store-ref" "ssr-stages"] "states-ref"]] "dispatch!"]]] ["render-app!"] ["add-watch" "store-ref" ":changes" "render-app!"] ["add-watch" "states-ref" ":changes" "render-app!"] ["js/setTimeout" ["fn" [] ["dispatch!" ":message/add" "nil"]]] ["println" "|app started!"]], "respo-message.main/render-app!" ["defn" "render-app!" [] ["let" [["target" [".querySelector" "js/document" "|#app"]]] ["render!" ["comp-container" "@store-ref"] "target" "dispatch!" "states-ref"]]], "respo-message.main/id!" ["defn" "id!" [] ["swap!" "id-ref" "inc"] "@id-ref"], "respo-message.comp.container/comp-container" ["def" "comp-container" ["create-comp" ":container" "render"]], "respo-message.comp.container/on-add" ["defn" "on-add" ["e" "dispatch!"] ["dispatch!" ":message/add" "nil"]], "respo-message.main/dispatch!" ["defn" "dispatch!" ["op" "op-data"] ["println" "|dispatch!" "op" "op-data"] ["let" [["op-id" ["id!"]] ["new-store" ["case" "op" [":message/add" ["add-one" "@store-ref" "op" ["{}" [":id" "op-id"] [":text" ["rand-nth" "words"]] [":kind" ["rand-nth" "kinds"]]]]] [":message/remove" ["remove-one" "@store-ref" "op" "op-data"]] "@store-ref"]]] ["reset!" "store-ref" "new-store"]]], "respo-message.comp.message/on-remove" ["defn" "on-remove" ["idx"] ["fn" ["e" "dispatch!"] ["dispatch!" ":message/remove" "idx"]]], "respo-message.comp.message/comp-message" ["def" "comp-message" ["create-comp" ":message" "render"]], "respo-message.main/states-ref" ["defonce" "states-ref" ["atom" ["{}"]]], "respo-message.comp.message/render" ["defn" "render" ["idx" "message"] ["fn" ["state" "mutate!"] ["if" ["some?" "message"] ["div" ["{}" [":style" ["merge" "style-message" ["{}" [":transform" ["str" "|translate(0," ["*" "idx" "40"] "|px)"]] [":background-color" ["case" [":kind" "message"] [":attactive" "colors/attractive"] [":irreversible" "colors/irreversible"] [":attentive" "colors/attentive"] [":verdant" "colors/verdant"] [":warm" "colors/warm"] "colors/attractive"]]]]] [":event" ["{}" [":click" ["on-remove" "idx"]]]]] ["comp-text" [":text" "message"] "nil"]] ["div" ["{}" [":style" ["merge" "style-message" "style-zero" ["{}" [":transform" ["str" "|translate(-120px," ["*" "idx" "40"] "|px)"]]]]]]]]]], "respo-message.comp.container/render" ["defn" "render" ["store"] ["fn" ["state" "mutate!"] ["div" ["{}" [":style" ["merge" "ui/global" ["{}" [":padding" "16"]]]]] ["div" ["{}" [":style" "ui/button"] [":event" ["{}" [":click" "on-add"]]]] ["comp-text" "|add message" "nil"]] ["comp-msg-list" [":messages" "store"]]]]], "respo-message.main/kinds" ["def" "kinds" ["[]" ":attractive" ":irreversible" ":attentive" ":warn" ":verdant"]], "respo-message.comp.message/style-zero" ["def" "style-zero" ["{}" [":pointer-events" ":none"]]]}, :namespaces {"respo-message.comp.container" ["ns" "respo-message.comp.container" [":require" ["[]" "hsl.core" ":refer" ["[]" "hsl"]] ["[]" "respo-ui.style" ":as" "ui"] ["[]" "respo.alias" ":refer" ["[]" "create-comp" "div" "span"]] ["[]" "respo.comp.space" ":refer" ["[]" "comp-space"]] ["[]" "respo.comp.text" ":refer" ["[]" "comp-text"]] ["[]" "respo-message.comp.msg-list" ":refer" ["[]" "comp-msg-list"]]]], "respo-message.main" ["ns" "respo-message.main" [":require" ["[]" "respo.core" ":refer" ["[]" "render!" "clear-cache!" "falsify-stage!" "render-element"]] ["[]" "respo.util.format" ":refer" ["[]" "mute-element"]] ["[]" "respo-message.comp.container" ":refer" ["[]" "comp-container"]] ["[]" "respo-message.updater" ":refer" ["[]" "add-one" "remove-one"]] ["[]" "cljs.reader" ":refer" ["[]" "read-string"]]]], "respo-message.comp.message" ["ns" "respo-message.comp.message" [":require" ["[]" "respo.alias" ":refer" ["[]" "create-comp" "div"]] ["[]" "respo-ui.style" ":as" "ui"] ["[]" "respo-ui.style.colors" ":as" "colors"] ["[]" "respo.comp.text" ":refer" ["[]" "comp-text"]]]], "respo-message.comp.msg-list" ["ns" "respo-message.comp.msg-list" [":require" ["[]" "respo.alias" ":refer" ["[]" "create-comp" "div"]] ["[]" "respo-message.comp.message" ":refer" ["[]" "comp-message"]]]], "respo-message.updater" ["ns" "respo-message.updater"]}, :procedures {"respo-message.main" [["set!" [".-onload" "js/window"] "-main!"]], "respo-message.comp.message" [], "respo-message.comp.msg-list" [], "respo-message.updater" []}}